{% extends 'base.html' %}
{% load static %}
{% load increment %}


{% block content %}
<div class="w-full h-full flex flex-col md:flex-row lg:flex-row flex-nowrap justify-between items-center md:justify-start md:items-start lg:justify-start lg:items-start overflow-hidden box-border">
    {% include 'left_menu.html' %}
    <div class="w-full h-full min-h-max flex flex-col justify-between items-start overflow-auto bg-[#F4F4F4] gap-5 box-border order-1 md:order-2 lg:order-2 xl:order-2 2xl-order-2 relative">
        <div
        class="__className_d9825c w-full h-full 2xl:container flex flex-col box-border overflow-hidden justify-start items-start p-5 md:p-10 lg:p-10">
        <div
            class="w-full h-full flex flex-col box-border justify-start items-start gap-y-6 md:p-5 lg:p-5 overflow-hidden">
            <h1 class="w-max h-max text-base md:text-lg lg:text-xl font-semibold">DG Kontest</h1>
            <div class="flex w-full overflow-y-scroll scrollbar-none gap-3"><a aria-label="Go to page"
                    class="text-lg flex items-center justify-between px-6 py-2 text-left transition-all duration-100 ease-in hover:text-primary rounded-md border text-gray-500"
                    href="{% url 'kontest' %}">
                    <div class="flex gap-3 whitespace-nowrap">üî• Top</div>
                </a><a aria-label="Go to page"
                    class="text-lg flex items-center justify-between px-6 py-2 text-left transition-all duration-100 ease-in hover:text-primary rounded-md border text-gray-500"
                    href="{% url 'musobaqalar' %}">
                    <div class="flex gap-3 whitespace-nowrap">üèÜ Musobaqalar</div>
                </a><a aria-label="Go to page"
                    class="text-lg flex items-center justify-between px-6 py-2 text-left transition-all duration-100 ease-in hover:text-primary rounded-md border text-gray-500"
                    href="{% url 'masalalar' %}">
                    <div class="flex gap-3 whitespace-nowrap">üéÆ Masalalar</div>
                </a><a aria-label="Go to page"
                    class="text-lg flex items-center justify-between px-6 py-2 text-left transition-all duration-100 ease-in hover:text-primary rounded-md border text-gray-500 bg-green text-white"
                    href="{% url 'reyting' %}">
                    <div class="flex gap-3 whitespace-nowrap">üë• Reyting</div>
                </a></div>
            <div class="w-full h-full flex flex-col justify-start items-start overflow-x-auto  gap-y-5">
                <div class="w-full h-fit flex flex-col justify-start items-start rounded-xl gap-4 overflow-y-scroll scrollbar-none">
                    {% for ruser in page %}
                        <a class="py-6 px-7 bg-white rounded-xl max-w-full w-full flex flex-row justify-between items-center break-words"
                            href="">
                            <section class="w-max flex flex-row justify-center items-center gap-3 md:gap-4 lg:gap-6">
                                <span class=" min-w-[40px] min-h-[40px] md:min-w-[56px] md:min-h-[56px] lg:min-w-[64px] lg:min-h-[64px] bg-gray-100 rounded-full flex justify-center items-center text-xl">
                                    {{ ruser.first_name.0 }}
                                </span>
                                {% if forloop.counter == 1 %}
                                    <p>ü•á</p>
                                {% elif forloop.counter == 2 %}
                                    <p>ü•à</p>
                                {% elif forloop.counter == 3 %}
                                    <p>ü•â</p>
                                {% endif %}
                                <h1 class="text-base md:text-lg lg:text-xl font-semibold break-words w-full text-left">
                                    {{ ruser.first_name }} {{ ruser.last_name }}
                                </h1>
                            </section>
                            <section class="w-max flex flex-col md:flex-row lg:flex-row justify-center items-center gap-4 text-center">
                                <p class="text-center w-max flex">üî•{{ ruser.total_ball }}</p>
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true" width="20">
                                    <path stroke-linecap="round" stroke-linejoin="round"
                                        d="M13.5 6H5.25A2.25 2.25 0 003 8.25v10.5A2.25 2.25 0 005.25 21h10.5A2.25 2.25 0 0018 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25">
                                    </path>
                                </svg>
                            </section>
                        </a>
                    {% endfor %}
                </div>
                <div class="w-full h-fit flex flex-col justify-start items-start rounded-xl gap-4  py-5">
                    <h1 class="text-lg md:text-xl lg:text-2xl font-semibold">Sizning o'rningiz</h1>
                    <a class="py-6 px-7 bg-white rounded-xl max-w-full w-full flex flex-row justify-between items-center break-words"
                            href="">
                            <section class="w-max flex flex-row justify-center items-center gap-3 md:gap-4 lg:gap-6">
                                <span class=" min-w-[40px] min-h-[40px] md:min-w-[56px] md:min-h-[56px] lg:min-w-[64px] lg:min-h-[64px] bg-gray-100 rounded-full flex justify-center items-center text-xl">
                                    {{ user.first_name.0 }}
                                </span>
                                <p>{{ user_place}}</p>
                                <h1 class="text-base md:text-lg lg:text-xl font-semibold break-words w-full text-left">
                                    {{ user.first_name }} {{ user.last_name }}
                                </h1>
                            </section>
                            <section class="w-max flex flex-col md:flex-row lg:flex-row justify-center items-center gap-4 text-center">
                                <p class="text-center w-max flex">üî•{{ user.id|get_user_masalalar_ball }}</p>
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true" width="20">
                                    <path stroke-linecap="round" stroke-linejoin="round"
                                        d="M13.5 6H5.25A2.25 2.25 0 003 8.25v10.5A2.25 2.25 0 005.25 21h10.5A2.25 2.25 0 0018 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25">
                                    </path>
                                </svg>
                            </section>
                        </a>
                </div>
                <div class="w-full flex justify-center items-center box-border">
                    <div class=" box-border flex flex-row justify-start items-center rounded-lg  h-max  w-max overflow-x-scroll  scrollbar-none scroll-smooth">
                        <ul class="box-border flex max-w-[1200px] w-max items-center justify-between font-body py-2 scrollbar-none gap-x-2 !list-none" role="navigation" aria-label="Pagination">
                            <li class="h-10 w-10 {% if not page.has_previous %}disabled{% endif %}">
                                <a class="h-full w-full  flex items-center justify-center" href="{% if page.has_previous %}?page={{ page.previous_page_number }}{% endif %}">
                                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="20" color="rgb(147 51 234 / var(--tw-border-opacity))">
                                        <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 19.5L8.25 12l7.5-7.5"></path>
                                    </svg>
                                </a>
                            </li>
                            {% for p in total_pages %}
                                {% if forloop.counter < 10 %}
                                    <li class="h-10 w-10 text-black rounded-md h-10 w-12 {% if forloop.counter == page.number %}bg-white{% endif %}">
                                        <a class="h-full w-full  flex items-center justify-center">{{ forloop.counter }}</a>
                                    </li>
                                {% endif %}
                                {% if total_page_count > 9 and total_page_count != 10 %}
                                    <li class="h-10 w-10 text-black rounded-md h-10 w-12 {% if forloop.counter == page.number %}bg-white{% endif %}">
                                        <a class="h-full w-full  flex items-center justify-center">...</a>
                                    </li>
                                    <li class="h-10 w-10 text-black rounded-md h-10 w-12 {% if forloop.counter == page.number %}bg-white{% endif %}">
                                        <a class="h-full w-full  flex items-center justify-center">{{ total_page_count }}</a>
                                    </li>
                                {% endif %}
                            {% endfor %}
                            <li class="h-10 w-10">
                                <a class="h-full w-full  flex items-center justify-center" href="{% if page.has_next %}?page={{ page.next_page_number }}{% endif %}">
                                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="20" color="rgb(147 51 234 / var(--tw-border-opacity))">
                                        <path stroke-linecap="round" stroke-linejoin="round" d="M8.25 4.5l7.5 7.5-7.5 7.5"></path>
                                    </svg>
                                </a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
        <section class="w-full hidden md:flex lg:flex justify-center items-center">
            {% include 'footer.html' %}
        </section>
    </div>
</div>
{% endblock content %}